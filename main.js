!function t(e,o,r){function i(s,a){if(!o[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(n)return n(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var p=o[s]={exports:{}};e[s][0].call(p.exports,function(t){var o=e[s][1][t];return i(o?o:t)},p,p.exports,t,e,o,r)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,o){(function(e){var o,r,i,n,s,a,u;n="undefined"!=typeof window?window.Phaser:"undefined"!=typeof e?e.Phaser:null,a=t("./config.coffee"),o=t("./boot.coffee"),s=t("./preload.coffee"),i=t("./menu.coffee"),r=t("./game.coffee"),u=new n.Game(a.width,a.height,n.AUTO,"game-stage"),u.state.add("Boot",o),u.state.add("Preload",s),u.state.add("Menu",i),u.state.add("Game",r),u.state.start("Boot")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./boot.coffee":2,"./config.coffee":3,"./game.coffee":4,"./menu.coffee":5,"./preload.coffee":6}],2:[function(t,e,o){(function(o){var r,i,n,s=function(t,e){function o(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},a={}.hasOwnProperty;i="undefined"!=typeof window?window.Phaser:"undefined"!=typeof o?o.Phaser:null,n=t("./config.coffee"),r=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.preload=function(){return this.load.pack("preload",n.pack)},e.prototype.create=function(){return this.state.start("Preload")},e}(i.State),e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config.coffee":3}],3:[function(t,e,o){e.exports={width:640,height:480,pack:"assets/pack.json"}},{}],4:[function(t,e,o){(function(t){var o,r,i=function(t,e){function o(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},n={}.hasOwnProperty;r="undefined"!=typeof window?window.Phaser:"undefined"!=typeof t?t.Phaser:null,o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.power=300}return i(e,t),e.prototype.init=function(){return this.game.renderer.renderSession.roundPixels=!0,this.game.world.setBounds(0,0,992,480),this.physics.startSystem(r.Physics.ARCADE),this.physics.arcade.gravity.y=200},e.prototype.preload=function(){return this.load.image("tank","assets/img/tank.png"),this.load.image("turret","assets/img/turret.png"),this.load.image("bullet","assets/img/bullet.png"),this.load.image("background","assets/img/background.png"),this.load.image("flame","assets/img/flame.png"),this.load.image("target","assets/img/target.png")},e.prototype.create=function(){return this.background=this.add.sprite(0,0,"background"),this.targets=this.add.group(this.game.world,"targets",!1,!0,r.Physics.ARCADE),this.targets.create(300,390,"target"),this.targets.create(500,390,"target"),this.targets.create(700,390,"target"),this.targets.create(900,390,"target"),this.targets.setAll("body.allowGravity",!1),this.bullet=this.add.sprite(0,0,"bullet"),this.bullet.exists=!1,this.physics.arcade.enable(this.bullet),this.tank=this.add.sprite(24,383,"tank"),this.turret=this.add.sprite(this.tank.x+30,this.tank.y+14,"turret"),this.flame=this.add.sprite(0,0,"flame"),this.flame.anchor.set(.5),this.flame.visible=!1,this.power=300,this.powerText=this.add.text(8,8,"Power: 300",{font:"18px Arial",fill:"#ffffff"}),this.powerText.setShadow(1,1,"rgba(0, 0, 0, 0.8)",1),this.powerText.fixedToCamera=!0,this.cursors=this.input.keyboard.createCursorKeys(),this.fireButton=this.input.keyboard.addKey(r.Keyboard.SPACEBAR),this.fireButton.onDown.add(this.fire,this)},e.prototype.fire=function(){var t;if(!this.bullet.exists)return this.bullet.reset(this.turret.x,this.turret.y),t=new r.Point(this.turret.x,this.turret.y),t.rotate(t.x,t.y,this.turret.rotation,!1,34),this.flame.x=t.x,this.flame.y=t.y,this.flame.alpha=1,this.flame.visible=!0,this.add.tween(this.flame).to({alpha:0},100,"Linear",!0),this.camera.follow(this.bullet),this.physics.arcade.velocityFromRotation(this.turret.rotation,this.power,this.bullet.body.velocity)},e.prototype.hitTarget=function(t,e){return e.kill(),this.removeBullet()},e.prototype.removeBullet=function(){return this.bullet.kill(),this.camera.follow(),this.add.tween(this.camera).to({x:0},1e3,"Quint",!0,1e3)},e.prototype.update=function(){return this.input.activePointer.justPressed()&&this.state.start("Menu"),this.bullet.exists?this.bullet.y>420?this.removeBullet():this.physics.arcade.overlap(this.bullet,this.targets,this.hitTarget,null,this):(this.cursors.left.isDown&&this.power>100?this.power-=2:this.cursors.right.isDown&&this.power<600&&(this.power+=2),this.cursors.up.isDown&&this.turret.angle>-90?this.turret.angle--:this.cursors.down.isDown&&this.turret.angle<0&&this.turret.angle++,this.powerText.text="Power: "+this.power)},e}(r.State),e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,o){(function(t){var o,r,i=function(t,e){function o(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},n={}.hasOwnProperty;r="undefined"!=typeof window?window.Phaser:"undefined"!=typeof t?t.Phaser:null,o=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.create=function(){var t;return t=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"phaserLogo"),t.anchor.setTo(.5,.5),this.song=this.add.audio("gameMusic"),this.song.play("",0,1,!0)},e.prototype.update=function(){if(this.input.activePointer.justPressed())return this.song.stop(),this.state.start("Game")},e}(r.State),e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(t,e,o){(function(o){var r,i,n,s=function(t,e){function o(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},a={}.hasOwnProperty;r="undefined"!=typeof window?window.Phaser:"undefined"!=typeof o?o.Phaser:null,n=t("./config.coffee"),i=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.preload=function(){return this.load.setPreloadSprite(this.add.sprite(this.game.world.centerX-160,this.game.world.centerY-16,"preloadBar")),this.stage.backgroundColor="black",this.load.pack("main",n.pack)},e.prototype.create=function(){return this.state.start("Menu")},e}(r.State),e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./config.coffee":3}]},{},[1]);